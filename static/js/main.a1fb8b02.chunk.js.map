{"version":3,"sources":["api/websocketApi.ts","Components/InputNameField/InputNameField.tsx","selectors/boardSelecors.ts","Components/InputNameField/InputNameFieldContainer.tsx","Components/Player/Player.tsx","Components/User/User.tsx","Constants/userConstants.ts","Redux/actions/userActions.ts","selectors/userSelectors.ts","Components/User/UserContainer.tsx","Components/Colleagues/Colleagues.tsx","Components/PokerTable/PokerTable.tsx","Components/Cards/Constants.ts","Components/Cards/Cards.tsx","Components/Cards/CardsContainer.tsx","Components/OpenCardButton/OpenCardButton.tsx","Components/OpenCardButton/OpenCardButtonContainer.tsx","Components/PokerBoard/PokerBoard.tsx","Components/PokerBoard/PokerBoardContainer.tsx","Constants/boardConstants.ts","Redux/actions/boardActions.ts","App.tsx","Redux/thunkSubscribers.ts","theme.tsx","Constants/ChatConstants.ts","Redux/reducers/chatReducer.ts","Redux/reducers/boardReducer.ts","Redux/reducers/UserReducer.ts","Redux/reducers/rootReducer.ts","index.tsx"],"names":["clientStomp","useStyles","makeStyles","container","width","fontSize","skeleton","transform","InputNameField","setNameStory","nameStory","subscribedState","useState","title","setTitle","styles","useEffect","className","TextField","value","label","variant","hiddenLabel","onChange","e","target","onBlur","Skeleton","height","StompJs","webSocketFactory","SockJS","activate","ApiWebsocket","onSubscribe","getState","getNameStory","setSubscribedState","pushUserName","removeUser","votedUser","showCard","onConnect","subscribe","message","JSON","parse","body","userName","name","user","sendUserNameMeToo","userState","userNameScore","score","number","publish","destination","stringify","sendTaskName","data","sendUserName","vote","openCards","state","board","getSubscribedState","subscribed","InputNameFieldContainer","useSelector","player","display","flexDirection","alignItems","wordBreak","marginRight","marginLeft","alignSelf","paddingTop","backgroundColor","borderRadius","transition","justifyContent","fontWeight","textAlign","lineHeight","minHeight","voted","border","color","Player","onDoubleClickHandler","isVoted","onDoubleClick","inputName","minWidth","maxWidth","marginTop","User","setName","votedUsers","scores","login","setLogin","length","includes","find","item","autoFocus","SET_NAME","PUSH_USER_NAME","REMOVE_USER","VOTED_USER","SHOW_CARD","SET_NUMBER","RE_VOTE","pushUserNameA","type","payload","votedUserA","getUserNameSelector","getUsers","colleagues","filter","getVotedUsersSelector","votedColleagues","getScoresSelector","UserContainer","dispatch","useDispatch","Colleagues","colleaguesNames","map","position","table","PokerTable","NUMBERS","cardsWrapper","flexWrap","card","cursor","cardActive","Cards","setNumber","activeCard","setActiveCard","Numbers","useMemo","onClick","handleClick","CardsContainer","reVoteA","setNumberA","button","padding","buttonDisabled","pointerEvents","opacity","OpenCard","sayShowCards","disabledButton","OpenCardContainer","header","middle","footer","PokerBoard","PokerBoardContainer","GET_NAME_STORY","SET_SUBSCRIBE_STATE","root","App","a","theme","createMuiTheme","palette","primary","main","secondary","error","red","A400","background","default","GET_MESSAGE","initialState","allMessages","pushScores","croppedArr","pushUser","pushVotedUser","rootReducer","combineReducers","chat","action","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StyledEngineProvider","injectFirst","ThemeProvider","CssBaseline","document","querySelector"],"mappings":"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","file":"static/js/main.a1fb8b02.chunk.js","sourcesContent":["import SockJS from \"sockjs-client\";\r\nimport * as StompJs from \"@stomp/stompjs\";\r\nimport {IMessage} from \"@stomp/stompjs\";\r\nimport {INameStory} from \"../Interfaces\";\r\nimport {IGetName} from \"../Redux/reducers/UserReducer\";\r\nimport {IVote} from \"../Components/Cards/CardsContainer\";\r\n\r\nexport let clientStomp: StompJs.Client;\r\nclientStomp = new StompJs.Client();\r\n// @ts-ignore\r\nclientStomp.webSocketFactory = () => new SockJS('https://poker-api.r2ls.ru/ws');\r\nclientStomp.activate();\r\n\r\nexport const ApiWebsocket: any = {\r\n    onSubscribe: (\r\n        getState: any,\r\n        getNameStory: any,\r\n        setSubscribedState: any,\r\n        pushUserName: any,\r\n        removeUser: any,\r\n        votedUser: any,\r\n        showCard: any,\r\n    ) => {\r\n        clientStomp.onConnect = () => {\r\n            setSubscribedState()\r\n            clientStomp.subscribe('/topic/room/topic-changed', (message: IMessage) => {\r\n                getNameStory(JSON.parse(message.body))\r\n            });\r\n            clientStomp.subscribe('/topic/room/im-here', () => {\r\n                const userName = {\r\n                    name: getState().user.name\r\n                };\r\n                ApiWebsocket.sendUserNameMeToo(userName)\r\n            });\r\n            clientStomp.subscribe('/topic/room/im-here-too', (message: IMessage) => {\r\n                pushUserName(JSON.parse(message.body))\r\n            });\r\n            clientStomp.subscribe('/topic/room/i-left', (message: IMessage) => {\r\n                removeUser(JSON.parse(message.body))\r\n            });\r\n            clientStomp.subscribe('/topic/room/i-voted', (message: IMessage) => {\r\n                votedUser(JSON.parse(message.body))\r\n            });\r\n            clientStomp.subscribe('/topic/room/open-cards', (message: IMessage) => {\r\n                const userState = getState().user;\r\n                const userNameScore = {\r\n                    name: userState.name,\r\n                    score: userState.number\r\n                };\r\n                clientStomp.publish({destination: '/app/room/my-score', body: JSON.stringify(userNameScore)});\r\n            });\r\n            clientStomp.subscribe('/topic/room/my-score', (message: IMessage) => {\r\n                showCard(JSON.parse(message.body))\r\n            });\r\n        }\r\n    },\r\n    sendTaskName: (data: INameStory) => {\r\n        clientStomp.publish({destination: '/app/room/topic-changed', body: JSON.stringify(data)});\r\n    },\r\n    sendUserName: (data: IGetName) => {\r\n        clientStomp.publish({destination: '/app/room/im-here', body: JSON.stringify(data)});\r\n    },\r\n    sendUserNameMeToo: (data: IGetName) => {\r\n        clientStomp.publish({destination: '/app/room/im-here-too', body: JSON.stringify(data)});\r\n    },\r\n    removeUser: (data: IGetName) => {\r\n        clientStomp.publish({destination: '/app/room/i-left', body: JSON.stringify(data)});\r\n    },\r\n    vote: (data: IVote) => {\r\n        clientStomp.publish({destination: '/app/room/i-voted', body: JSON.stringify(data)});\r\n    },\r\n    openCards: (data: any) => {\r\n        clientStomp.publish({destination: '/app/room/open-cards', body: JSON.stringify(data)});\r\n    },\r\n}","import React, {FC, useEffect, useState} from \"react\";\r\nimport {Skeleton} from '@material-ui/core';\r\nimport {TextField} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {INameField} from \"../../Interfaces\";\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        width: '100%',\r\n\r\n        '& .MuiInput-input': {\r\n            fontSize: 28,\r\n            width: 380,\r\n        }\r\n    },\r\n    skeleton: {\r\n        transform: 'none'\r\n    }\r\n});\r\n\r\nconst InputNameField: FC<INameField> = ({setNameStory, nameStory, subscribedState}) => {\r\n    const [title, setTitle] = useState('');\r\n    const styles = useStyles();\r\n\r\n    useEffect(() => {\r\n        setTitle(nameStory)\r\n    }, [nameStory])\r\n\r\n    const onChangeHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.target.value)\r\n    }\r\n\r\n    const onBlurHandler = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        setNameStory(e.target.value)\r\n    }\r\n\r\n    return <div className={styles.container}>\r\n        {subscribedState\r\n            ? <TextField\r\n                value={title}\r\n                label=\"Name of story\"\r\n                variant=\"standard\"\r\n                hiddenLabel={true}\r\n                onChange={onChangeHandler}\r\n                onBlur={onBlurHandler}\r\n            />\r\n            : <Skeleton width={294} height={65} className={styles.skeleton} />}</div>\r\n}\r\n\r\nexport default InputNameField;","// import {createSelector} from \"reselect\";\r\nimport {IBoardTitleState, ISubscribedState} from \"../Interfaces\";\r\n\r\nexport const getNameStory = (state: IBoardTitleState) => state.board.title\r\nexport const getSubscribedState = (state: ISubscribedState) => state.board.subscribed\r\n\r\n","import React, {FC} from \"react\";\r\nimport InputNameField from \"./InputNameField\";\r\nimport {ApiWebsocket} from \"../../api/websocketApi\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getNameStory, getSubscribedState} from \"../../selectors/boardSelecors\";\r\nimport {INameStory} from \"../../Interfaces\";\r\n\r\nconst InputNameFieldContainer:FC = () => {\r\n    const nameStory: string = useSelector(getNameStory)\r\n    const subscribedState: boolean = useSelector(getSubscribedState)\r\n\r\n    const setNameStory = (message: string) => {\r\n        const nameStory: INameStory  = {\r\n            title: message,\r\n        }\r\n\r\n        ApiWebsocket.sendTaskName(nameStory)\r\n    }\r\n\r\n    return <InputNameField setNameStory={setNameStory} nameStory={nameStory} subscribedState={subscribedState} />\r\n}\r\n\r\nexport default InputNameFieldContainer;","import React, {FC} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n    player: {\r\n        display: 'flex',\r\n        width: 125,\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        wordBreak: 'break-word',\r\n        marginRight: -22.5,\r\n        marginLeft: -22.5,\r\n\r\n        '&:nth-child(odd)': {\r\n            alignSelf: 'flex-end',\r\n        },\r\n        '&:nth-child(even)': {\r\n            alignSelf: 'flex-start',\r\n            paddingTop: 5,\r\n        }\r\n    },\r\n    body: {\r\n        backgroundColor: 'rgba(0, 0, 0, 0.11)',\r\n        width: 35,\r\n        height: 65,\r\n        borderRadius: 4,\r\n        transition: '0.2s',\r\n        display: \"flex\",\r\n        justifyContent: 'center',\r\n        alignItems: \"center\",\r\n    },\r\n    name: {\r\n        fontSize: 18,\r\n        fontWeight: 600,\r\n        paddingTop: 8,\r\n        textAlign: 'center',\r\n        lineHeight: 1.3,\r\n        minHeight: 54,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    voted: {\r\n        backgroundColor: '#115293'\r\n    },\r\n    number: {\r\n        border: '2px solid #1976d2',\r\n        borderRadius: 4,\r\n        color: \"#1976d2\",\r\n        fontWeight: \"bold\",\r\n        backgroundColor: '#fff',\r\n    }\r\n});\r\n\r\nexport interface IPlayer {\r\n    onDoubleClickHandler?: () => void,\r\n    name: string,\r\n    isVoted?: boolean,\r\n    number?: number,\r\n}\r\n\r\nconst Player: FC<IPlayer> = ({name, onDoubleClickHandler, isVoted, number}) => {\r\n    const styles = useStyles();\r\n\r\n    return <div className={styles.player}>\r\n        <div\r\n            className={`${styles.body} ${isVoted ? styles.voted : ''} ${number || number === 0 ? styles.number : ''}`}>{number === -1 ? '?' : number}</div>\r\n        <div\r\n            className={styles.name}\r\n            onDoubleClick={onDoubleClickHandler}>\r\n            {name}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Player;\r\n","import React, {FC, useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {IUser} from \"./UserContainer\";\r\nimport {TextField} from \"@material-ui/core\";\r\nimport {ApiWebsocket} from \"../../api/websocketApi\";\r\nimport Player from \"../Player\";\r\n\r\nconst useStyles = makeStyles({\r\n    inputName: {\r\n        minWidth: 70,\r\n        maxWidth: 125,\r\n        marginTop: 12\r\n    }\r\n});\r\n\r\nconst User: FC<IUser> = ({name, setName, votedUsers, scores}) => {\r\n    const [login, setLogin] = useState('');\r\n    const styles = useStyles();\r\n\r\n    const onChangeMessageHandler = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setLogin(e.target.value)\r\n    }\r\n\r\n    const onBlurHandler = () => {\r\n        setName(login)\r\n    }\r\n\r\n    const onDoubleClickHandler = () => {\r\n        if (name.length) {\r\n            ApiWebsocket.removeUser({name: name})\r\n        }\r\n        setLogin(name)\r\n        setName('')\r\n    }\r\n\r\n    return <>\r\n        {name\r\n            ? <Player\r\n                name={name}\r\n                onDoubleClickHandler={onDoubleClickHandler}\r\n                isVoted={votedUsers?.includes(name)}\r\n                number={scores?.find(item => item.name === name)?.score}\r\n            />\r\n            : <TextField\r\n                className={styles.inputName}\r\n                label=\"Your name\"\r\n                variant=\"standard\"\r\n                value={login}\r\n                onChange={onChangeMessageHandler}\r\n                onBlur={onBlurHandler}\r\n                autoFocus\r\n            />\r\n        }\r\n    </>\r\n}\r\n\r\nexport default User;","export const SET_NAME = 'SET_NAME';\r\nexport const PUSH_USER_NAME = 'PUSH_USER_NAME';\r\nexport const REMOVE_USER = 'REMOVE_USER';\r\nexport const VOTED_USER = 'VOTED_USER';\r\nexport const SHOW_CARD = 'SHOW_CARD';\r\nexport const SET_NUMBER = 'SET_NUMBER';\r\nexport const RE_VOTE = 'RE_VOTE';","import {IGetName, IUserVoted} from \"../reducers/UserReducer\";\r\nimport {\r\n    SET_NAME,\r\n    PUSH_USER_NAME,\r\n    REMOVE_USER,\r\n    VOTED_USER,\r\n    SHOW_CARD,\r\n    SET_NUMBER,\r\n    RE_VOTE\r\n} from \"../../Constants/userConstants\";\r\n\r\nexport const setUserNameA = (data: IGetName) => ({\r\n    type: SET_NAME,\r\n    payload: data\r\n});\r\n\r\nexport const pushUserNameA = (data: IGetName) => ({\r\n    type: PUSH_USER_NAME,\r\n    payload: data\r\n});\r\n\r\nexport const removeUser = (data: IGetName) => ({\r\n    type: REMOVE_USER,\r\n    payload: data\r\n});\r\n\r\nexport const votedUserA = (data: IUserVoted) => ({\r\n    type: VOTED_USER,\r\n    payload: data\r\n});\r\n\r\nexport const showCard = (data: any) => ({\r\n    type: SHOW_CARD,\r\n    payload: data\r\n});\r\n\r\nexport const setNumberA = (data: string | null) => ({\r\n    type: SET_NUMBER,\r\n    payload: data\r\n});\r\n\r\nexport const reVoteA = (data: IUserVoted) => ({\r\n    type: RE_VOTE,\r\n    payload: data\r\n});","import {IUserReducer} from \"../Redux/reducers/UserReducer\";\r\n\r\nexport const getUserNameSelector = (state: IUserReducer) => state.user.name\r\nexport const getUsers = (state: IUserReducer) => state.user.colleagues.filter(item => item.length > 0)\r\nexport const getVotedUsersSelector = (state: IUserReducer) => state.user.votedColleagues\r\nexport const getScoresSelector = (state: IUserReducer) => state.user.scores","import React, {FC, useEffect, useState} from \"react\";\r\nimport User from \"./User\";\r\nimport {ApiWebsocket} from \"../../api/websocketApi\";\r\nimport {IGetName, IScores} from \"../../Redux/reducers/UserReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setUserNameA} from \"../../Redux/actions/userActions\";\r\nimport {getScoresSelector, getUserNameSelector, getVotedUsersSelector} from \"../../selectors/userSelectors\";\r\nimport {getSubscribedState} from \"../../selectors/boardSelecors\";\r\nimport {Skeleton} from \"@material-ui/core\";\r\n\r\nexport interface IUser {\r\n    setName: Function,\r\n    name: string,\r\n    votedUsers?: string[],\r\n    scores?: IScores[],\r\n}\r\n\r\nconst UserContainer: FC = () => {\r\n    const userName: string = useSelector(getUserNameSelector)\r\n    const votedUsers: string[] = useSelector(getVotedUsersSelector);\r\n    const scores: IScores[] = useSelector(getScoresSelector);\r\n    const subscribedState: boolean = useSelector(getSubscribedState)\r\n    const [name, setName] = useState('')\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setName(userName)\r\n    }, [userName])\r\n\r\n    useEffect(() => {\r\n        if (name.length) {\r\n            const userNameToSend: IGetName = {\r\n                name\r\n            }\r\n            dispatch(setUserNameA(userNameToSend))\r\n            ApiWebsocket.sendUserName({name: name})\r\n        }\r\n    }, [name])\r\n\r\n    useEffect(() => {\r\n        if (name.length) {\r\n            return () => ApiWebsocket.removeUser({name: name})\r\n        }\r\n    }, [])\r\n\r\n    return <>{subscribedState\r\n        ? <User name={name} setName={setName} votedUsers={votedUsers} scores={scores} />\r\n        : <Skeleton width={125} height={48} />\r\n    }</>\r\n}\r\n\r\nexport default UserContainer;","import React, {FC} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getScoresSelector, getUserNameSelector, getUsers, getVotedUsersSelector} from \"../../selectors/userSelectors\";\r\nimport Player from \"../Player\";\r\nimport {IScores} from \"../../Redux/reducers/UserReducer\";\r\n\r\nconst Colleagues: FC = () => {\r\n    const colleaguesNames: string[] = useSelector(getUsers);\r\n    const userName: string = useSelector(getUserNameSelector);\r\n    const votedUsers: string[] = useSelector(getVotedUsersSelector);\r\n    const scores: IScores[] = useSelector(getScoresSelector);\r\n\r\n    return <>\r\n        {colleaguesNames.map((name: string) => {\r\n            return userName !== name && <Player\r\n                name={name}\r\n                key={name}\r\n                isVoted={votedUsers.includes(name)}\r\n                number={scores?.find(item => item.name === name)?.score}\r\n            />\r\n        })}\r\n    </>\r\n}\r\n\r\nexport default Colleagues;","import React, {FC} from \"react\";\r\nimport User from \"../User/UserContainer\";\r\nimport Colleagues from \"../Colleagues/Colleagues\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n    container: {\r\n        display: 'flex',\r\n        alignItems: \"center\",\r\n        position: 'relative',\r\n        height: 425,\r\n    },\r\n    table: {\r\n        position: 'absolute',\r\n        width: 'calc(100% + 80px)',\r\n        height: 150,\r\n        display: 'block',\r\n        backgroundColor: 'rgba(0, 0, 0, 0.11)',\r\n        borderRadius: 25,\r\n        marginLeft: -40\r\n    }\r\n});\r\n\r\nconst PokerTable:FC = () => {\r\n    const styles = useStyles();\r\n\r\n    return <div className={styles.container}>\r\n        <div className={styles.table}/>\r\n        <User />\r\n        <Colleagues />\r\n    </div>\r\n}\r\n\r\nexport default PokerTable;","export const NUMBERS: number[] = [0,1,3,5,8,13,21,34,55,89,-1]","import React, {FC, useMemo, useState} from \"react\";\r\nimport {NUMBERS} from \"./Constants\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n    cardsWrapper: {\r\n        display: 'flex',\r\n        justifyContent: \"space-between\",\r\n        flexWrap: \"wrap\",\r\n        width: \"100%\",\r\n        maxWidth: 725,\r\n    },\r\n    card: {\r\n        width: 50,\r\n        height: 80,\r\n        display: 'flex',\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        border: '2px solid #1976d2',\r\n        borderRadius: 4,\r\n        color: \"#1976d2\",\r\n        fontSize: 20,\r\n        fontWeight: \"bold\",\r\n        cursor: \"pointer\",\r\n        transition: '0.2s',\r\n\r\n        \"&:hover\": {\r\n            transform: \"translate(0, -4px)\",\r\n            backgroundColor: \"rgba(0, 0, 0, 0.04)\",\r\n        }\r\n    },\r\n    title: {\r\n        width: \"100%\",\r\n        textAlign: \"center\",\r\n        fontWeight: 300,\r\n    },\r\n    cardActive: {\r\n        transform: \"translate(0, -4px)\",\r\n        backgroundColor: \"rgba(0, 0, 0, 0.04)\",\r\n    }\r\n});\r\n\r\ninterface ICards {\r\n    setNumber: Function,\r\n}\r\n\r\nconst Cards: FC<ICards> = ({setNumber}) => {\r\n    const [activeCard, setActiveCard] = useState<number | string>('');\r\n    const styles = useStyles();\r\n\r\n    const handleClick = (item: string | number) => {\r\n        setNumber(item)\r\n        setActiveCard(item)\r\n    }\r\n\r\n    const Numbers = useMemo(() => {\r\n        return NUMBERS.map((item: number | string) => {\r\n            return <div key={item} className={`${styles.card} ${activeCard === item && styles.cardActive}`}\r\n                        onClick={() => handleClick(item)}>{item === -1 ? '?' : item}</div>\r\n        })\r\n    }, [activeCard])\r\n\r\n    return <div className={styles.cardsWrapper}>\r\n        <p className={styles.title}>Choose your card</p>\r\n        {Numbers}\r\n    </div>\r\n}\r\n\r\nexport default Cards;","import React, {FC, useEffect, useState} from \"react\";\nimport Cards from \"./Cards\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getUserNameSelector} from \"../../selectors/userSelectors\";\nimport {ApiWebsocket} from \"../../api/websocketApi\";\nimport {reVoteA, setNumberA} from \"../../Redux/actions/userActions\";\n\nexport interface IVote {\n    name: string,\n}\n\nconst CardsContainer: FC = () => {\n    const userName: string = useSelector(getUserNameSelector)\n    const [number, setNumber] = useState('')\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (userName.length) {\n            const data: IVote = {\n                name: userName,\n            }\n\n            dispatch(reVoteA(data))\n            dispatch(setNumberA(number))\n\n            ApiWebsocket.vote(data)\n        }\n    }, [number])\n\n    return <Cards setNumber={setNumber} />\n}\n\nexport default CardsContainer;","import React, {FC} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Skeleton} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: '8px 16px',\r\n        borderRadius: 4,\r\n        backgroundColor: \"#4791db\",\r\n        color: \"#fff\",\r\n        cursor: \"pointer\",\r\n        marginTop: 16,\r\n        transition: '0.2s',\r\n\r\n        '&:hover': {\r\n            backgroundColor: '#1976d2'\r\n        },\r\n\r\n        '&:active': {\r\n            backgroundColor: '#115293'\r\n        }\r\n    },\r\n    buttonDisabled: {\r\n        pointerEvents: 'none',\r\n        opacity: 0.5\r\n    },\r\n    skeleton: {\r\n        transform: 'none',\r\n        marginTop: 16,\r\n    }\r\n});\r\n\r\ninterface IOpenCard {\r\n    sayShowCards: () => void,\r\n    disabledButton: boolean,\r\n    subscribedState: boolean,\r\n}\r\n\r\n\r\nconst OpenCard: FC<IOpenCard> = ({sayShowCards, disabledButton, subscribedState}) => {\r\n    const styles = useStyles();\r\n\r\n    const onClickHandler = () => {\r\n        sayShowCards();\r\n    }\r\n\r\n    return <>\r\n        {subscribedState\r\n            ? <div\r\n                className={`${styles.button} ${disabledButton ? styles.buttonDisabled : ''}`}\r\n                onClick={onClickHandler}\r\n            >\r\n                Show cards\r\n            </div>\r\n            : <Skeleton width={116} height={40} className={styles.skeleton} />\r\n        }\r\n    </>\r\n}\r\n\r\nexport default OpenCard;\r\n","import React, {FC} from \"react\";\r\nimport OpenCard from \"./OpenCardButton\";\r\nimport {ApiWebsocket} from \"../../api/websocketApi\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getUserNameSelector, getUsers, getVotedUsersSelector} from \"../../selectors/userSelectors\";\r\nimport {getSubscribedState} from \"../../selectors/boardSelecors\";\r\n\r\nconst OpenCardContainer: FC = () => {\r\n    const userName: string = useSelector(getUserNameSelector)\r\n    const votedUsers: string[] = useSelector(getVotedUsersSelector);\r\n    const colleaguesNames: string[] = useSelector(getUsers);\r\n    const subscribedState: boolean = useSelector(getSubscribedState)\r\n\r\n    const disabledButton = !colleaguesNames.length || votedUsers.length < colleaguesNames.length;\r\n\r\n    const sayShowCards = () => {\r\n        const data = {\r\n            name: userName\r\n        }\r\n\r\n        ApiWebsocket.openCards(data)\r\n    }\r\n\r\n    return <OpenCard sayShowCards={sayShowCards} disabledButton={disabledButton} subscribedState={subscribedState} />\r\n}\r\n\r\nexport default OpenCardContainer;\r\n","import React, {FC} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport InputNameFieldContainer from \"../InputNameField\";\r\nimport PokerTable from \"../PokerTable\";\r\nimport Cards from \"../Cards\";\r\nimport OpenCard from \"../OpenCardButton\";\r\n\r\nconst useStyles = makeStyles({\r\n    board: {\r\n        height: '100%',\r\n        padding: 16\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    middle: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: 'calc(100vh - 325px)',\r\n        padding: 16\r\n    },\r\n    footer: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n    }\r\n});\r\n\r\nconst PokerBoard:FC = () => {\r\n    const styles = useStyles();\r\n\r\n    return <div className={styles.board}>\r\n        <header className={styles.header}>\r\n            <InputNameFieldContainer />\r\n            <OpenCard />\r\n        </header>\r\n        <div className={styles.middle}>\r\n            <PokerTable />\r\n        </div>\r\n        <footer className={styles.footer}>\r\n            <Cards />\r\n        </footer>\r\n    </div>\r\n}\r\n\r\nexport default PokerBoard;","import React, {FC} from \"react\";\r\nimport PokerBoard from \"./PokerBoard\";\r\n\r\nconst PokerBoardContainer:FC = () => {\r\n    return <PokerBoard />\r\n}\r\n\r\nexport default PokerBoardContainer;","export const GET_NAME_STORY = 'GET_NAME_STORY';\r\nexport const SET_SUBSCRIBE_STATE = 'SET_SUBSCRIBE_STATE';","import {INameStory} from \"../../Interfaces\";\r\nimport {GET_NAME_STORY, SET_SUBSCRIBE_STATE} from \"../../Constants/boardConstants\";\r\n\r\nexport const getNameStory = (data: INameStory)  => ({\r\n    type: GET_NAME_STORY,\r\n    payload: data\r\n});\r\n\r\nexport const setSubscribedState = () => ({\r\n    type: SET_SUBSCRIBE_STATE,\r\n    payload: true\r\n});","import * as React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport PokerBoard from \"./Components/PokerBoard\";\r\nimport {useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {subscribe} from \"./Redux/thunkSubscribers\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        minHeight: '100vh'\r\n    },\r\n});\r\n\r\nconst App = () => {\r\n    const styles = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(subscribe())\r\n    }, [])\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            <PokerBoard />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import {ApiWebsocket} from \"../api/websocketApi\";\r\nimport {INameStory} from \"../Interfaces\";\r\nimport {getNameStory, setSubscribedState} from \"./actions/boardActions\";\r\nimport {pushUserNameA, removeUser, showCard, votedUserA} from \"./actions/userActions\";\r\n\r\nexport const subscribe = () => async (dispatch: (arg: { type: string; payload: any; }) => void, getState: any) => {\r\n    ApiWebsocket.onSubscribe(\r\n        getState,\r\n        (data: INameStory) => dispatch(getNameStory(data)),\r\n        () => dispatch(setSubscribedState()),\r\n        (data: any) => dispatch(pushUserNameA(data)),\r\n        (data: any) => dispatch(removeUser(data)),\r\n        (data: any) => dispatch(votedUserA(data)),\r\n        (data: any) => dispatch(showCard(data)),\r\n    )\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\nimport { red } from '@material-ui/core/colors';\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#556cd6',\n    },\n    secondary: {\n      main: '#19857b',\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: '#f5f5f5',\n    },\n  },\n});\n\nexport default theme;\n","export const GET_MESSAGE = 'GET_MESSAGE';","import {IChatState, IAllMessages, IAddMessageAction} from \"../../Interfaces\";\r\nimport {GET_MESSAGE} from \"../../Constants/ChatConstants\";\r\nimport {chatApi} from \"../../api/chat-api\";\r\nimport {getMessage} from \"../actions/chatActions\";\r\n\r\nconst initialState: IChatState = {\r\n    allMessages: []\r\n}\r\n\r\nexport const chatReducer = (state: IChatState = initialState, action: IAddMessageAction): IChatState => {\r\n    switch (action.type) {\r\n        case GET_MESSAGE:\r\n            return {\r\n                allMessages: [...state.allMessages, action.payload]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const starChatting = () => async (dispatch: (arg: { type: string; payload: IAllMessages; }) => void) => {\r\n    chatApi.onSubscribe((data: IAllMessages) => dispatch(getMessage(data)))\r\n}","import {IBoardState, IGetNameStoryAction, ISubscribedAction} from \"../../Interfaces\";\r\nimport {GET_NAME_STORY, SET_SUBSCRIBE_STATE} from \"../../Constants/boardConstants\";\r\n\r\nconst initialState: IBoardState = {\r\n    title: '',\r\n    subscribed: false,\r\n}\r\n\r\ntype ActionTypes = IGetNameStoryAction | ISubscribedAction;\r\n\r\nexport const boardReducer = (state: IBoardState = initialState, action: ActionTypes): IBoardState => {\r\n    switch (action.type) {\r\n        case GET_NAME_STORY:\r\n            return {\r\n                ...state,\r\n                title: action.payload.title,\r\n            }\r\n        case SET_SUBSCRIBE_STATE:\r\n            return {\r\n                ...state,\r\n                subscribed: !!action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import {\r\n    SET_NAME,\r\n    PUSH_USER_NAME,\r\n    REMOVE_USER,\r\n    VOTED_USER,\r\n    SET_NUMBER,\r\n    SHOW_CARD,\r\n    RE_VOTE\r\n} from \"../../Constants/userConstants\";\r\n\r\nexport interface IUserReducer {\r\n    user: IUserState,\r\n}\r\n\r\nexport interface IUserVoted extends IGetName {\r\n}\r\n\r\nexport interface IGetName {\r\n    name: string\r\n}\r\n\r\nexport interface IScores {\r\n    name: string,\r\n    score: number\r\n}\r\n\r\nexport interface IUserState {\r\n    name: string,\r\n    colleagues: string[],\r\n    votedColleagues: string[],\r\n    number: number | null,\r\n    scores: IScores[],\r\n}\r\n\r\nconst initialState: IUserState = {\r\n    name: '',\r\n    colleagues: [],\r\n    votedColleagues: [],\r\n    number: null,\r\n    scores: []\r\n}\r\n\r\nexport const UserReducer = (state: IUserState = initialState, action: any): IUserState => {\r\n    switch (action.type) {\r\n        case SET_NAME:\r\n            return {\r\n                ...state,\r\n                name: action.payload.name,\r\n            }\r\n        case PUSH_USER_NAME:\r\n            return pushUser(state, action.payload.name)\r\n        case REMOVE_USER:\r\n            return {\r\n                ...state,\r\n                colleagues: state.colleagues // state.colleagues.filter(colleagues => colleagues.length && colleagues !== action.payload.name)\r\n            }\r\n        case VOTED_USER: {\r\n            return pushVotedUser(state, action.payload.name)\r\n        }\r\n        case SET_NUMBER:\r\n            return {\r\n                ...state,\r\n                number: action.payload,\r\n            }\r\n        case SHOW_CARD:\r\n            return {\r\n                ...state,\r\n                votedColleagues: [],\r\n                number: null,\r\n                scores: pushScores(state.scores, action.payload)\r\n            }\r\n        case RE_VOTE:\r\n            return {\r\n                ...state,\r\n                scores: state.scores.filter(item => item.name !== action.payload.name)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst pushScores = (scores: IScores[], score: any) => {\r\n    const croppedArr = scores.filter(item => item.name !== score.name);\r\n    return [...croppedArr, score]\r\n}\r\n\r\nconst pushUser = (state: any, name: string) => {\r\n    return !state.colleagues.includes(name)\r\n        ? {\r\n            ...state,\r\n            colleagues: [...state.colleagues, name],\r\n        } : state\r\n}\r\n\r\nconst pushVotedUser = (state: any, name: string) => {\r\n    return !state.votedColleagues.includes(name)\r\n        ? {\r\n            ...state,\r\n            votedColleagues: [...state.votedColleagues, name],\r\n        } : state\r\n}","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {chatReducer} from './chatReducer';\r\nimport {boardReducer} from './boardReducer';\r\nimport {UserReducer} from './UserReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n    chat: chatReducer,\r\n    board: boardReducer,\r\n    user: UserReducer,\r\n})\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store","import * as React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport StyledEngineProvider from '@material-ui/core/StyledEngineProvider';\r\nimport {ThemeProvider} from '@material-ui/core/styles';\r\nimport App from './App';\r\nimport theme from './theme';\r\nimport {Provider} from 'react-redux';\r\nimport store from '../src/Redux/reducers/rootReducer';\r\n\r\nReactDOM.render(\r\n    <StyledEngineProvider injectFirst>\r\n        <ThemeProvider theme={theme}>\r\n            <CssBaseline />\r\n            <Provider store={store}>\r\n                <App />\r\n            </Provider>\r\n        </ThemeProvider>\r\n    </StyledEngineProvider>,\r\n    document.querySelector('#root'),\r\n);"],"sourceRoot":""}