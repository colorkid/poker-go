(this["webpackJsonppoker-go"]=this["webpackJsonppoker-go"]||[]).push([[0],{142:function(e,t,n){"use strict";n.r(t);var a,c=n(8),r=n(0),o=n(23),i=n.n(o),s=n(184),u=n(183),b=n(188),d=n(178),l=n(10),j=n(189),f=n(187),O=n(185),p=Object(d.a)({container:{padding:8,"& .MuiOutlinedInput-input":{fontSize:22}},skeleton:{transform:"none"}}),h=function(e){var t=e.setNameStory,n=e.nameStory,a=e.subscribedState,o=Object(r.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1],b=p();Object(r.useEffect)((function(){u(n)}),[n]);return Object(c.jsx)(c.Fragment,{children:a?Object(c.jsx)(j.a,{className:b.container,children:Object(c.jsx)(O.a,{value:s,label:"Name of story",variant:"outlined",InputLabelProps:{shrink:!0},onChange:function(e){u(e.target.value)},onBlur:function(e){t(e.target.value)}})}):Object(c.jsx)(f.a,{width:294,height:80,className:b.skeleton})})},m=n(93),y=n.n(m),v=n(186);(a=new v.a).webSocketFactory=function(){return new y.a("https://poker-api.r2ls.ru/ws")},a.activate();var g=function(e,t){a.onConnect=function(){t(),a.subscribe("/topic/room/topic-changed",(function(t){e(JSON.parse(t.body))}))}},x=function(e){a.publish({destination:"/app/room/topic-changed",body:JSON.stringify(e)})},S=n(34),N=function(e){return e.board.title},k=function(e){return e.board.subscribed},w=function(){var e=Object(S.c)(N),t=Object(S.c)(k);return Object(c.jsx)(h,{setNameStory:function(e){x({title:e})},nameStory:e,subscribedState:t})},E=Object(d.a)({board:{height:"100%",padding:16},header:{display:"flex",justifyContent:"center"},middle:{},footer:{}}),M=function(){var e=E();return Object(c.jsxs)("div",{className:e.board,children:[Object(c.jsx)("header",{className:e.header,children:Object(c.jsx)(w,{})}),Object(c.jsx)("div",{className:e.middle,children:"middle"}),Object(c.jsx)("footer",{className:e.footer,children:"footer"})]})},T=n(22),_=n.n(T),A=n(58),C=n(51),J="GET_NAME_STORY",B="SET_SUBSCRIBE_STATE",F=function(e){return{type:J,payload:e}},G={title:"",subscribed:!1},I=function(){var e=Object(S.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(A.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g((function(e){return t(F(e))}),(function(){return t({type:B,payload:!0})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.jsx)(M,{})},R=Object(d.a)({root:{display:"flex",flexDirection:"column",minHeight:"100vh"}}),q=function(){var e=R();return Object(c.jsx)("div",{className:e.root,children:Object(c.jsx)(I,{})})},z=n(96),D=n(60),H=Object(z.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:D.a.A400},background:{default:"#f5f5f5"}}}),L=n(39),P=n(95),U=n(19),Y="GET_MESSAGE",K={allMessages:[]},Q=Object(L.c)({chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{allMessages:[].concat(Object(U.a)(e.allMessages),[t.payload])};default:return e}},board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(C.a)(Object(C.a)({},e),{},{title:t.payload.title});case B:return Object(C.a)(Object(C.a)({},e),{},{subscribed:!!t.payload});default:return e}}}),V=Object(L.d)(Q,Object(L.a)(P.a));i.a.render(Object(c.jsx)(u.a,{injectFirst:!0,children:Object(c.jsxs)(b.a,{theme:H,children:[Object(c.jsx)(s.a,{}),Object(c.jsx)(S.a,{store:V,children:Object(c.jsx)(q,{})})]})}),document.querySelector("#root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.4a848360.chunk.js.map